{"code":"import { isCollection, isModel, isView, } from 'datx';\r\nimport { decorateCollection } from './decorateCollection';\r\nimport { decorateModel } from './decorateModel';\r\nimport { decorateView } from './decorateView';\r\nexport function jsonapi(Base) {\r\n    if (isModel(Base)) {\r\n        return decorateModel(Base);\r\n    }\r\n    else if (isCollection(Base)) {\r\n        return decorateCollection(Base);\r\n    }\r\n    else if (isView(Base)) {\r\n        return decorateView(Base);\r\n    }\r\n    throw new Error('The instance needs to be a model, collection or a view');\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWl4aW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzcmMvbWl4aW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdMLFlBQVksRUFDWixPQUFPLEVBQ1AsTUFBTSxHQUtQLE1BQU0sTUFBTSxDQUFDO0FBRWQsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQWlCNUMsTUFBTSxrQkFDSixJQUF3RTtJQUV4RSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNqQixPQUFPLGFBQWEsQ0FBQyxJQUF3QixDQUFDLENBQUM7S0FDaEQ7U0FBTSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3QixPQUFPLGtCQUFrQixDQUFDLElBQTZCLENBQUMsQ0FBQztLQUMxRDtTQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sWUFBWSxDQUFJLElBQW1CLENBQUMsQ0FBQztLQUM3QztJQUVELE1BQU0sSUFBSSxLQUFLLENBQUMsd0RBQXdELENBQUMsQ0FBQztBQUM1RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSUNvbGxlY3Rpb25Db25zdHJ1Y3RvcixcbiAgSU1vZGVsQ29uc3RydWN0b3IsXG4gIGlzQ29sbGVjdGlvbixcbiAgaXNNb2RlbCxcbiAgaXNWaWV3LFxuICBJVmlld0NvbnN0cnVjdG9yLFxuICBQdXJlQ29sbGVjdGlvbixcbiAgUHVyZU1vZGVsLFxuICBWaWV3LFxufSBmcm9tICdkYXR4JztcblxuaW1wb3J0IHtkZWNvcmF0ZUNvbGxlY3Rpb259IGZyb20gJy4vZGVjb3JhdGVDb2xsZWN0aW9uJztcbmltcG9ydCB7ZGVjb3JhdGVNb2RlbH0gZnJvbSAnLi9kZWNvcmF0ZU1vZGVsJztcbmltcG9ydCB7ZGVjb3JhdGVWaWV3fSBmcm9tICcuL2RlY29yYXRlVmlldyc7XG5pbXBvcnQge0lKc29uYXBpQ29sbGVjdGlvbn0gZnJvbSAnLi9pbnRlcmZhY2VzL0lKc29uYXBpQ29sbGVjdGlvbic7XG5pbXBvcnQge0lKc29uYXBpTW9kZWx9IGZyb20gJy4vaW50ZXJmYWNlcy9JSnNvbmFwaU1vZGVsJztcbmltcG9ydCB7SUpzb25hcGlWaWV3fSBmcm9tICcuL2ludGVyZmFjZXMvSUpzb25hcGlWaWV3JztcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VCBleHRlbmRzIFB1cmVNb2RlbD4oXG4gIEJhc2U6IElNb2RlbENvbnN0cnVjdG9yPFQ+LFxuKTogSU1vZGVsQ29uc3RydWN0b3I8VCAmIElKc29uYXBpTW9kZWw+O1xuXG5leHBvcnQgZnVuY3Rpb24ganNvbmFwaTxUIGV4dGVuZHMgUHVyZUNvbGxlY3Rpb24+KFxuICBCYXNlOiBJQ29sbGVjdGlvbkNvbnN0cnVjdG9yPFQ+LFxuKTogSUNvbGxlY3Rpb25Db25zdHJ1Y3RvcjxUICYgSUpzb25hcGlDb2xsZWN0aW9uPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VCBleHRlbmRzIFZpZXc+KFxuICBCYXNlOiBJVmlld0NvbnN0cnVjdG9yPFQ+LFxuKTogSVZpZXdDb25zdHJ1Y3RvcjxJSnNvbmFwaU1vZGVsLCBUICYgSUpzb25hcGlWaWV3PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VCBleHRlbmRzIFB1cmVNb2RlbHxQdXJlQ29sbGVjdGlvbnxWaWV3PihcbiAgQmFzZTogSU1vZGVsQ29uc3RydWN0b3I8VD58SUNvbGxlY3Rpb25Db25zdHJ1Y3RvcjxUPnxJVmlld0NvbnN0cnVjdG9yPFQ+LFxuKSB7XG4gIGlmIChpc01vZGVsKEJhc2UpKSB7XG4gICAgcmV0dXJuIGRlY29yYXRlTW9kZWwoQmFzZSBhcyB0eXBlb2YgUHVyZU1vZGVsKTtcbiAgfSBlbHNlIGlmIChpc0NvbGxlY3Rpb24oQmFzZSkpIHtcbiAgICByZXR1cm4gZGVjb3JhdGVDb2xsZWN0aW9uKEJhc2UgYXMgdHlwZW9mIFB1cmVDb2xsZWN0aW9uKTtcbiAgfSBlbHNlIGlmIChpc1ZpZXcoQmFzZSkpIHtcbiAgICByZXR1cm4gZGVjb3JhdGVWaWV3PFQ+KEJhc2UgYXMgdHlwZW9mIFZpZXcpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5zdGFuY2UgbmVlZHMgdG8gYmUgYSBtb2RlbCwgY29sbGVjdGlvbiBvciBhIHZpZXcnKTtcbn1cbiJdfQ==","map":{"mappings":""},"dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx-jsonapi/mixin.d.ts","text":"import { ICollectionConstructor, IModelConstructor, IViewConstructor, PureCollection, PureModel, View } from 'datx';\r\nimport { IJsonapiCollection } from './interfaces/IJsonapiCollection';\r\nimport { IJsonapiModel } from './interfaces/IJsonapiModel';\r\nimport { IJsonapiView } from './interfaces/IJsonapiView';\r\nexport declare function jsonapi<T extends PureModel>(Base: IModelConstructor<T>): IModelConstructor<T & IJsonapiModel>;\r\nexport declare function jsonapi<T extends PureCollection>(Base: ICollectionConstructor<T>): ICollectionConstructor<T & IJsonapiCollection>;\r\nexport declare function jsonapi<T extends View>(Base: IViewConstructor<T>): IViewConstructor<IJsonapiModel, T & IJsonapiView>;\r\n"}}
