{"code":"import { isCollection, isModel, isView, } from 'datx';\r\nimport { decorateCollection } from './decorateCollection';\r\nimport { decorateModel } from './decorateModel';\r\nimport { decorateView } from './decorateView';\r\nexport function jsonapi(Base) {\r\n    if (isModel(Base)) {\r\n        // @ts-ignore\r\n        return decorateModel(Base);\r\n    }\r\n    else if (isCollection(Base)) {\r\n        // @ts-ignore\r\n        return decorateCollection(Base);\r\n    }\r\n    else if (isView(Base)) {\r\n        // @ts-ignore\r\n        return decorateView(Base);\r\n    }\r\n    throw new Error('The instance needs to be a model, collection or a view');\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWl4aW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzcmMvbWl4aW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdMLFlBQVksRUFDWixPQUFPLEVBQ1AsTUFBTSxHQUtQLE1BQU0sTUFBTSxDQUFDO0FBRWQsT0FBTyxFQUFDLGtCQUFrQixFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQWlCNUMsTUFBTSxrQkFDSixJQUF3RTtJQUV4RSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNqQixhQUFhO1FBQ2IsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDNUI7U0FBTSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3QixhQUFhO1FBQ2IsT0FBTyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQztTQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3ZCLGFBQWE7UUFDYixPQUFPLFlBQVksQ0FBSSxJQUFJLENBQUMsQ0FBQztLQUM5QjtJQUVELE1BQU0sSUFBSSxLQUFLLENBQUMsd0RBQXdELENBQUMsQ0FBQztBQUM1RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSUNvbGxlY3Rpb25Db25zdHJ1Y3RvcixcbiAgSU1vZGVsQ29uc3RydWN0b3IsXG4gIGlzQ29sbGVjdGlvbixcbiAgaXNNb2RlbCxcbiAgaXNWaWV3LFxuICBJVmlld0NvbnN0cnVjdG9yLFxuICBQdXJlQ29sbGVjdGlvbixcbiAgUHVyZU1vZGVsLFxuICBWaWV3LFxufSBmcm9tICdkYXR4JztcblxuaW1wb3J0IHtkZWNvcmF0ZUNvbGxlY3Rpb259IGZyb20gJy4vZGVjb3JhdGVDb2xsZWN0aW9uJztcbmltcG9ydCB7ZGVjb3JhdGVNb2RlbH0gZnJvbSAnLi9kZWNvcmF0ZU1vZGVsJztcbmltcG9ydCB7ZGVjb3JhdGVWaWV3fSBmcm9tICcuL2RlY29yYXRlVmlldyc7XG5pbXBvcnQge0lKc29uYXBpQ29sbGVjdGlvbn0gZnJvbSAnLi9pbnRlcmZhY2VzL0lKc29uYXBpQ29sbGVjdGlvbic7XG5pbXBvcnQge0lKc29uYXBpTW9kZWx9IGZyb20gJy4vaW50ZXJmYWNlcy9JSnNvbmFwaU1vZGVsJztcbmltcG9ydCB7SUpzb25hcGlWaWV3fSBmcm9tICcuL2ludGVyZmFjZXMvSUpzb25hcGlWaWV3JztcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VCBleHRlbmRzIFB1cmVNb2RlbD4oXG4gIEJhc2U6IElNb2RlbENvbnN0cnVjdG9yPFQ+LFxuKTogSU1vZGVsQ29uc3RydWN0b3I8VCAmIElKc29uYXBpTW9kZWw+O1xuXG5leHBvcnQgZnVuY3Rpb24ganNvbmFwaTxUIGV4dGVuZHMgUHVyZUNvbGxlY3Rpb24+KFxuICBCYXNlOiBJQ29sbGVjdGlvbkNvbnN0cnVjdG9yPFQ+LFxuKTogSUNvbGxlY3Rpb25Db25zdHJ1Y3RvcjxUICYgSUpzb25hcGlDb2xsZWN0aW9uPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VCBleHRlbmRzIFZpZXc+KFxuICBCYXNlOiBJVmlld0NvbnN0cnVjdG9yPFQ+LFxuKTogSVZpZXdDb25zdHJ1Y3RvcjxJSnNvbmFwaU1vZGVsLCBUICYgSUpzb25hcGlWaWV3PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGpzb25hcGk8VD4oXG4gIEJhc2U6IElNb2RlbENvbnN0cnVjdG9yPFQ+fElDb2xsZWN0aW9uQ29uc3RydWN0b3I8VD58SVZpZXdDb25zdHJ1Y3RvcjxUPixcbikge1xuICBpZiAoaXNNb2RlbChCYXNlKSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gZGVjb3JhdGVNb2RlbChCYXNlKTtcbiAgfSBlbHNlIGlmIChpc0NvbGxlY3Rpb24oQmFzZSkpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGRlY29yYXRlQ29sbGVjdGlvbihCYXNlKTtcbiAgfSBlbHNlIGlmIChpc1ZpZXcoQmFzZSkpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGRlY29yYXRlVmlldzxUPihCYXNlKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignVGhlIGluc3RhbmNlIG5lZWRzIHRvIGJlIGEgbW9kZWwsIGNvbGxlY3Rpb24gb3IgYSB2aWV3Jyk7XG59XG4iXX0=","map":{"mappings":""},"dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx-jsonapi/mixin.d.ts","text":"import { ICollectionConstructor, IModelConstructor, IViewConstructor, PureCollection, PureModel, View } from 'datx';\r\nimport { IJsonapiCollection } from './interfaces/IJsonapiCollection';\r\nimport { IJsonapiModel } from './interfaces/IJsonapiModel';\r\nimport { IJsonapiView } from './interfaces/IJsonapiView';\r\nexport declare function jsonapi<T extends PureModel>(Base: IModelConstructor<T>): IModelConstructor<T & IJsonapiModel>;\r\nexport declare function jsonapi<T extends PureCollection>(Base: ICollectionConstructor<T>): ICollectionConstructor<T & IJsonapiCollection>;\r\nexport declare function jsonapi<T extends View>(Base: IViewConstructor<T>): IViewConstructor<IJsonapiModel, T & IJsonapiView>;\r\n"}}
