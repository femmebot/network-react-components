{"code":"import * as tslib_1 from \"tslib\";\r\nimport { flattenModel, removeModel, saveModel } from './helpers/model';\r\nexport function decorateModel(BaseClass) {\r\n    var JsonapiModel = /** @class */ (function (_super) {\r\n        tslib_1.__extends(JsonapiModel, _super);\r\n        function JsonapiModel(rawData, collection) {\r\n            if (rawData === void 0) { rawData = {}; }\r\n            var _this = this;\r\n            var data = rawData;\r\n            if ('type' in rawData && ('attributes' in rawData || 'relationships' in rawData)) {\r\n                data = flattenModel(rawData);\r\n            }\r\n            _this = _super.call(this, data, collection) || this;\r\n            return _this;\r\n        }\r\n        JsonapiModel.prototype.save = function (options) {\r\n            return saveModel(this, options);\r\n        };\r\n        JsonapiModel.prototype.destroy = function (options) {\r\n            return removeModel(this, options);\r\n        };\r\n        /**\r\n         * Should the autogenerated ID be sent to the server when creating a record\r\n         *\r\n         * @static\r\n         * @type {boolean}\r\n         * @memberOf Record\r\n         */\r\n        JsonapiModel.useAutogeneratedIds = BaseClass['useAutogeneratedIds'] || false;\r\n        return JsonapiModel;\r\n    }(BaseClass));\r\n    return JsonapiModel;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVjb3JhdGVNb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNyYy9kZWNvcmF0ZU1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFHQSxPQUFPLEVBQUMsWUFBWSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUlyRSxNQUFNLHdCQUF3QixTQUEyQjtJQUN2RDtRQUEyQix3Q0FBUztRQW1CbEMsc0JBQVksT0FBK0IsRUFBRSxVQUEyQjtZQUE1RCx3QkFBQSxFQUFBLFlBQStCO1lBQTNDLGlCQU1DO1lBTEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDO1lBQ25CLElBQUksTUFBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLFlBQVksSUFBSSxPQUFPLElBQUksZUFBZSxJQUFJLE9BQU8sQ0FBQyxFQUFFO2dCQUNoRixJQUFJLEdBQUcsWUFBWSxDQUFDLE9BQWtCLENBQUMsQ0FBQzthQUN6QztZQUNELFFBQUEsa0JBQU0sSUFBSSxFQUFFLFVBQVUsQ0FBQyxTQUFDOztRQUMxQixDQUFDO1FBRU0sMkJBQUksR0FBWCxVQUFZLE9BQXlCO1lBQ25DLE9BQU8sU0FBUyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNsQyxDQUFDO1FBRU0sOEJBQU8sR0FBZCxVQUFlLE9BQXlCO1lBQ3RDLE9BQU8sV0FBVyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBaENEOzs7Ozs7V0FNRztRQUNXLGdDQUFtQixHQUFZLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLEtBQUssQ0FBQztRQTBCekYsbUJBQUM7S0FBQSxBQWxDRCxDQUEyQixTQUFTLEdBa0NuQztJQUVELE9BQU8sWUFBZ0MsQ0FBQztBQUMxQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQdXJlQ29sbGVjdGlvbiwgUHVyZU1vZGVsfSBmcm9tICdkYXR4JztcbmltcG9ydCB7SVJhd01vZGVsfSBmcm9tICdkYXR4LXV0aWxzJztcblxuaW1wb3J0IHtmbGF0dGVuTW9kZWwsIHJlbW92ZU1vZGVsLCBzYXZlTW9kZWx9IGZyb20gJy4vaGVscGVycy9tb2RlbCc7XG5pbXBvcnQge0lSZXF1ZXN0T3B0aW9uc30gZnJvbSAnLi9pbnRlcmZhY2VzL0lSZXF1ZXN0T3B0aW9ucyc7XG5pbXBvcnQge0lSZWNvcmR9IGZyb20gJy4vaW50ZXJmYWNlcy9Kc29uQXBpJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29yYXRlTW9kZWwoQmFzZUNsYXNzOiB0eXBlb2YgUHVyZU1vZGVsKSB7XG4gIGNsYXNzIEpzb25hcGlNb2RlbCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBhdXRvZ2VuZXJhdGVkIElEIGJlIHNlbnQgdG8gdGhlIHNlcnZlciB3aGVuIGNyZWF0aW5nIGEgcmVjb3JkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFJlY29yZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdXNlQXV0b2dlbmVyYXRlZElkczogYm9vbGVhbiA9IEJhc2VDbGFzc1sndXNlQXV0b2dlbmVyYXRlZElkcyddIHx8IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRW5kcG9pbnQgZm9yIEFQSSByZXF1ZXN0cyBpZiB0aGVyZSBpcyBubyBzZWxmIGxpbmtcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfCgpID0+IHN0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgUmVjb3JkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBlbmRwb2ludDogc3RyaW5nfCgoKSA9PiBzdHJpbmcpO1xuXG4gICAgY29uc3RydWN0b3IocmF3RGF0YTogSVJhd01vZGVsfElSZWNvcmQgPSB7fSwgY29sbGVjdGlvbj86IFB1cmVDb2xsZWN0aW9uKSB7XG4gICAgICBsZXQgZGF0YSA9IHJhd0RhdGE7XG4gICAgICBpZiAoJ3R5cGUnIGluIHJhd0RhdGEgJiYgKCdhdHRyaWJ1dGVzJyBpbiByYXdEYXRhIHx8ICdyZWxhdGlvbnNoaXBzJyBpbiByYXdEYXRhKSkge1xuICAgICAgICBkYXRhID0gZmxhdHRlbk1vZGVsKHJhd0RhdGEgYXMgSVJlY29yZCk7XG4gICAgICB9XG4gICAgICBzdXBlcihkYXRhLCBjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2F2ZShvcHRpb25zPzogSVJlcXVlc3RPcHRpb25zKSB7XG4gICAgICByZXR1cm4gc2F2ZU1vZGVsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KG9wdGlvbnM/OiBJUmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZW1vdmVNb2RlbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gSnNvbmFwaU1vZGVsIGFzIHR5cGVvZiBQdXJlTW9kZWw7XG59XG4iXX0=","dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx-jsonapi/decorateModel.d.ts","text":"import { PureModel } from 'datx';\r\nexport declare function decorateModel(BaseClass: typeof PureModel): typeof PureModel;\r\n"}}
