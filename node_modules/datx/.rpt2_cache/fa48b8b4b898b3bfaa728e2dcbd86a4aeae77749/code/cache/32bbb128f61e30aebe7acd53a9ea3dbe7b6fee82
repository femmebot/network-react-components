{"code":"import { DEFAULT_TYPE } from 'datx-utils';\r\nimport { extendObservable } from 'mobx';\r\nimport { initModel } from './helpers/model/init';\r\n// tslint:disable-next-line:no-unnecessary-class\r\nvar PureModel = /** @class */ (function () {\r\n    function PureModel(rawData, collection) {\r\n        if (rawData === void 0) { rawData = {}; }\r\n        extendObservable(this, {});\r\n        initModel(this, rawData, collection);\r\n    }\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @param {PureCollection} [collection] The collection the new model will belong to\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    PureModel.preprocess = function (data, _collection) {\r\n        return data;\r\n    };\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    PureModel.getAutoId = function () {\r\n        return typeof this.autoIdValue === 'number' ? --this.autoIdValue : this.autoIdValue;\r\n    };\r\n    PureModel.toJSON = function () {\r\n        return this.type;\r\n    };\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    PureModel.type = DEFAULT_TYPE;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    PureModel.autoIdValue = 0;\r\n    PureModel.enableAutoId = true;\r\n    return PureModel;\r\n}());\r\nexport { PureModel };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHVyZU1vZGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3JjL1B1cmVNb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsWUFBWSxFQUF5QixNQUFNLFlBQVksQ0FBQztBQUNoRSxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFFdEMsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBSy9DLGdEQUFnRDtBQUNoRDtJQWlERSxtQkFBWSxPQUF1QixFQUFFLFVBQTJCO1FBQXBELHdCQUFBLEVBQUEsWUFBdUI7UUFDakMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLFNBQVMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUEvQkQ7Ozs7Ozs7O09BUUc7SUFDVyxvQkFBVSxHQUF4QixVQUF5QixJQUFZLEVBQUUsV0FBNEI7UUFDakUsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ1csbUJBQVMsR0FBdkI7UUFDRSxPQUFPLE9BQU8sSUFBSSxDQUFDLFdBQVcsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUN0RixDQUFDO0lBRWEsZ0JBQU0sR0FBcEI7UUFDRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQTlDRDs7Ozs7O09BTUc7SUFDVyxjQUFJLEdBQVUsWUFBWSxDQUFDO0lBRXpDOzs7Ozs7T0FNRztJQUNXLHFCQUFXLEdBQWdCLENBQUMsQ0FBQztJQUU3QixzQkFBWSxHQUFZLElBQUksQ0FBQztJQWtDN0MsZ0JBQUM7Q0FBQSxBQXJERCxJQXFEQztTQXJEWSxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtERUZBVUxUX1RZUEUsIElEaWN0aW9uYXJ5LCBJUmF3TW9kZWx9IGZyb20gJ2RhdHgtdXRpbHMnO1xuaW1wb3J0IHtleHRlbmRPYnNlcnZhYmxlfSBmcm9tICdtb2J4JztcblxuaW1wb3J0IHtpbml0TW9kZWx9IGZyb20gJy4vaGVscGVycy9tb2RlbC9pbml0JztcbmltcG9ydCB7SUlkZW50aWZpZXJ9IGZyb20gJy4vaW50ZXJmYWNlcy9JSWRlbnRpZmllcic7XG5pbXBvcnQge0lUeXBlfSBmcm9tICcuL2ludGVyZmFjZXMvSVR5cGUnO1xuaW1wb3J0IHtQdXJlQ29sbGVjdGlvbn0gZnJvbSAnLi9QdXJlQ29sbGVjdGlvbic7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby11bm5lY2Vzc2FyeS1jbGFzc1xuZXhwb3J0IGNsYXNzIFB1cmVNb2RlbCB7XG4gIC8qKlxuICAgKiBNb2RlbCB0eXBlIHVzZWQgZm9yIHNlcmlhbGl6YXRpb25cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAdHlwZSB7SVR5cGV9XG4gICAqIEBtZW1iZXJvZiBNb2RlbFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0eXBlOiBJVHlwZSA9IERFRkFVTFRfVFlQRTtcblxuICAvKipcbiAgICogQ3VycmVudCBhdXRvaW5jcmVtZW50IHZhbHVlIHVzZWQgZm9yIGF1dG9tYXRpYyBpZCBnZW5lcmF0aW9uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHR5cGUge0lJZGVudGlmaWVyfVxuICAgKiBAbWVtYmVyb2YgTW9kZWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgYXV0b0lkVmFsdWU6IElJZGVudGlmaWVyID0gMDtcblxuICBwdWJsaWMgc3RhdGljIGVuYWJsZUF1dG9JZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHVzZWQgdG8gcHJlcHJvY2VzcyB0aGUgbW9kZWwgaW5wdXQgZGF0YS4gQ2FsbGVkIGR1cmluZyB0aGUgbW9kZWwgaW5pdGlhbGl6YXRpb25cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBJbnB1dCBkYXRhXG4gICAqIEBwYXJhbSB7UHVyZUNvbGxlY3Rpb259IFtjb2xsZWN0aW9uXSBUaGUgY29sbGVjdGlvbiB0aGUgbmV3IG1vZGVsIHdpbGwgYmVsb25nIHRvXG4gICAqIEByZXR1cm5zIFRhcmdldCBtb2RlbCBkYXRhXG4gICAqIEBtZW1iZXJvZiBNb2RlbFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBwcmVwcm9jZXNzKGRhdGE6IG9iamVjdCwgX2NvbGxlY3Rpb24/OiBQdXJlQ29sbGVjdGlvbikge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIGZvciBnZW5lcmF0aW5nIG9mIGF1dG9tYXRpYyBtb2RlbCBpZHNcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJucyB7SUlkZW50aWZpZXJ9IEEgbmV3IG1vZGVsIGlkXG4gICAqIEBtZW1iZXJvZiBNb2RlbFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRBdXRvSWQoKTogSUlkZW50aWZpZXIge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5hdXRvSWRWYWx1ZSA9PT0gJ251bWJlcicgPyAtLXRoaXMuYXV0b0lkVmFsdWUgOiB0aGlzLmF1dG9JZFZhbHVlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHJhd0RhdGE6IElSYXdNb2RlbCA9IHt9LCBjb2xsZWN0aW9uPzogUHVyZUNvbGxlY3Rpb24pIHtcbiAgICBleHRlbmRPYnNlcnZhYmxlKHRoaXMsIHt9KTtcbiAgICBpbml0TW9kZWwodGhpcywgcmF3RGF0YSwgY29sbGVjdGlvbik7XG4gIH1cbn1cbiJdfQ==","dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx/PureModel.d.ts","text":"import { IRawModel } from 'datx-utils';\r\nimport { IIdentifier } from './interfaces/IIdentifier';\r\nimport { IType } from './interfaces/IType';\r\nimport { PureCollection } from './PureCollection';\r\nexport declare class PureModel {\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    static type: IType;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    static autoIdValue: IIdentifier;\r\n    static enableAutoId: boolean;\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @param {PureCollection} [collection] The collection the new model will belong to\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    static preprocess(data: object, _collection?: PureCollection): object;\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    static getAutoId(): IIdentifier;\r\n    static toJSON(): IType;\r\n    constructor(rawData?: IRawModel, collection?: PureCollection);\r\n}\r\n"}}
