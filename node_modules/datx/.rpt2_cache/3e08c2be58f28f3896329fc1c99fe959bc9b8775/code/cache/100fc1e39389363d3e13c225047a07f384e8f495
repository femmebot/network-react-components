{"code":"import * as tslib_1 from \"tslib\";\r\nimport { assignComputed, deprecated, warn } from 'datx-utils';\r\nimport { Collection } from './Collection';\r\nimport { CompatModel } from './CompatModel';\r\nimport { getModelType } from './helpers/model/utils';\r\nwarn('CompatCollection is just a migration tool. Please move to Collection as soon as possible.');\r\nvar CompatCollection = /** @class */ (function (_super) {\r\n    tslib_1.__extends(CompatCollection, _super);\r\n    function CompatCollection(data) {\r\n        var _this = _super.call(this, data) || this;\r\n        var getters = {};\r\n        _this.static.types.forEach(function (model) {\r\n            var type = getModelType(model);\r\n            assignComputed(_this, type.toString(), function () { return _this.findAll(type); });\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CompatCollection.prototype, \"static\", {\r\n        get: function () {\r\n            deprecated('collection.static is deprecated.');\r\n            return this.constructor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompatCollection.prototype.toJS = function () {\r\n        deprecated('collection.toJS() is deprecated. Use collection.toJSON() instead');\r\n        return this.toJSON();\r\n    };\r\n    CompatCollection.types = [CompatModel];\r\n    return CompatCollection;\r\n}(Collection));\r\nexport { CompatCollection };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcGF0Q29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNyYy9Db21wYXRDb2xsZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsY0FBYyxFQUFFLFVBQVUsRUFBYSxJQUFJLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFHdkUsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLGNBQWMsQ0FBQztBQUN4QyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQzFDLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSx1QkFBdUIsQ0FBQztBQUVuRCxJQUFJLENBQUMsMkZBQTJGLENBQUMsQ0FBQztBQUVsRztJQUFzQyw0Q0FBVTtJQUc5QywwQkFBWSxJQUFLO1FBQWpCLFlBQ0Usa0JBQU0sSUFBSSxDQUFDLFNBUVo7UUFOQyxJQUFNLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFbkIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBSztZQUM5QixJQUFNLElBQUksR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsY0FBYyxDQUFDLEtBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQWxCLENBQWtCLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUMsQ0FBQzs7SUFDTCxDQUFDO0lBRUQsc0JBQVcsb0NBQU07YUFBakI7WUFDRSxVQUFVLENBQUMsa0NBQWtDLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFzQyxDQUFDO1FBQ3JELENBQUM7OztPQUFBO0lBRU0sK0JBQUksR0FBWDtRQUNFLFVBQVUsQ0FBQyxrRUFBa0UsQ0FBQyxDQUFDO1FBQy9FLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFyQmEsc0JBQUssR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBc0J0Qyx1QkFBQztDQUFBLEFBdkJELENBQXNDLFVBQVUsR0F1Qi9DO1NBdkJZLGdCQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXNzaWduQ29tcHV0ZWQsIGRlcHJlY2F0ZWQsIElSYXdNb2RlbCwgd2Fybn0gZnJvbSAnZGF0eC11dGlscyc7XG5pbXBvcnQge2NvbXB1dGVkLCBkZWNvcmF0ZSwgZXh0ZW5kT2JzZXJ2YWJsZX0gZnJvbSAnbW9ieCc7XG5cbmltcG9ydCB7Q29sbGVjdGlvbn0gZnJvbSAnLi9Db2xsZWN0aW9uJztcbmltcG9ydCB7Q29tcGF0TW9kZWx9IGZyb20gJy4vQ29tcGF0TW9kZWwnO1xuaW1wb3J0IHtnZXRNb2RlbFR5cGV9IGZyb20gJy4vaGVscGVycy9tb2RlbC91dGlscyc7XG5cbndhcm4oJ0NvbXBhdENvbGxlY3Rpb24gaXMganVzdCBhIG1pZ3JhdGlvbiB0b29sLiBQbGVhc2UgbW92ZSB0byBDb2xsZWN0aW9uIGFzIHNvb24gYXMgcG9zc2libGUuJyk7XG5cbmV4cG9ydCBjbGFzcyBDb21wYXRDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbiB7XG4gIHB1YmxpYyBzdGF0aWMgdHlwZXMgPSBbQ29tcGF0TW9kZWxdO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE/KSB7XG4gICAgc3VwZXIoZGF0YSk7XG5cbiAgICBjb25zdCBnZXR0ZXJzID0ge307XG5cbiAgICB0aGlzLnN0YXRpYy50eXBlcy5mb3JFYWNoKChtb2RlbCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IGdldE1vZGVsVHlwZShtb2RlbCk7XG4gICAgICBhc3NpZ25Db21wdXRlZCh0aGlzLCB0eXBlLnRvU3RyaW5nKCksICgpID0+IHRoaXMuZmluZEFsbCh0eXBlKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHN0YXRpYygpOiB0eXBlb2YgQ29tcGF0Q29sbGVjdGlvbiB7XG4gICAgZGVwcmVjYXRlZCgnY29sbGVjdGlvbi5zdGF0aWMgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQ29tcGF0Q29sbGVjdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyB0b0pTKCkge1xuICAgIGRlcHJlY2F0ZWQoJ2NvbGxlY3Rpb24udG9KUygpIGlzIGRlcHJlY2F0ZWQuIFVzZSBjb2xsZWN0aW9uLnRvSlNPTigpIGluc3RlYWQnKTtcbiAgICByZXR1cm4gdGhpcy50b0pTT04oKTtcbiAgfVxufVxuIl19","map":{"mappings":""},"dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx/CompatCollection.d.ts","text":"import { IRawModel } from 'datx-utils';\r\nimport { Collection } from './Collection';\r\nimport { CompatModel } from './CompatModel';\r\nexport declare class CompatCollection extends Collection {\r\n    static types: (typeof CompatModel)[];\r\n    constructor(data?: any);\r\n    readonly static: typeof CompatCollection;\r\n    toJS(): IRawModel[];\r\n}\r\n"}}
