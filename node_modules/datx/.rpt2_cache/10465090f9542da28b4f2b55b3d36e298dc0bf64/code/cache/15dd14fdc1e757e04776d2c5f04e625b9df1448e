{"code":"import * as tslib_1 from \"tslib\";\r\nimport { assignComputed, deprecated } from 'datx-utils';\r\nimport { Collection } from './Collection';\r\nimport { CompatModel } from './CompatModel';\r\nimport { getModelType } from './helpers/model/utils';\r\nvar CompatCollection = /** @class */ (function (_super) {\r\n    tslib_1.__extends(CompatCollection, _super);\r\n    function CompatCollection(data) {\r\n        var _this = _super.call(this, data) || this;\r\n        deprecated('CompatCollection is just a migration tool. Please move to Collection as soon as possible.');\r\n        var getters = {};\r\n        _this.static.types.forEach(function (model) {\r\n            var type = getModelType(model);\r\n            assignComputed(_this, type.toString(), function () { return _this.findAll(type); });\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CompatCollection.prototype, \"static\", {\r\n        get: function () {\r\n            deprecated('collection.static is deprecated.');\r\n            return this.constructor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompatCollection.prototype.toJS = function () {\r\n        deprecated('collection.toJS() is deprecated. Use collection.toJSON() instead');\r\n        return this.toJSON();\r\n    };\r\n    CompatCollection.types = [CompatModel];\r\n    return CompatCollection;\r\n}(Collection));\r\nexport { CompatCollection };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcGF0Q29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNyYy9Db21wYXRDb2xsZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsY0FBYyxFQUFFLFVBQVUsRUFBWSxNQUFNLFlBQVksQ0FBQztBQUdqRSxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sY0FBYyxDQUFDO0FBQ3hDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDMUMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBR25EO0lBQXNDLDRDQUFVO0lBRzlDLDBCQUFZLElBQUs7UUFBakIsWUFDRSxrQkFBTSxJQUFJLENBQUMsU0FVWjtRQVJDLFVBQVUsQ0FBQywyRkFBMkYsQ0FBQyxDQUFDO1FBRXhHLElBQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUVuQixLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLO1lBQzlCLElBQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxjQUFjLENBQUMsS0FBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxjQUFNLE9BQUEsS0FBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBbEIsQ0FBa0IsQ0FBQyxDQUFDO1FBQ2xFLENBQUMsQ0FBQyxDQUFDOztJQUNMLENBQUM7SUFFRCxzQkFBVyxvQ0FBTTthQUFqQjtZQUNFLFVBQVUsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1lBQy9DLE9BQU8sSUFBSSxDQUFDLFdBQXNDLENBQUM7UUFDckQsQ0FBQzs7O09BQUE7SUFFTSwrQkFBSSxHQUFYO1FBQ0UsVUFBVSxDQUFDLGtFQUFrRSxDQUFDLENBQUM7UUFDL0UsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQXZCYSxzQkFBSyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7SUF3QnRDLHVCQUFDO0NBQUEsQUF6QkQsQ0FBc0MsVUFBVSxHQXlCL0M7U0F6QlksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHthc3NpZ25Db21wdXRlZCwgZGVwcmVjYXRlZCwgSVJhd01vZGVsfSBmcm9tICdkYXR4LXV0aWxzJztcbmltcG9ydCB7Y29tcHV0ZWQsIGRlY29yYXRlLCBleHRlbmRPYnNlcnZhYmxlfSBmcm9tICdtb2J4JztcblxuaW1wb3J0IHtDb2xsZWN0aW9ufSBmcm9tICcuL0NvbGxlY3Rpb24nO1xuaW1wb3J0IHtDb21wYXRNb2RlbH0gZnJvbSAnLi9Db21wYXRNb2RlbCc7XG5pbXBvcnQge2dldE1vZGVsVHlwZX0gZnJvbSAnLi9oZWxwZXJzL21vZGVsL3V0aWxzJztcbmltcG9ydCB7SVJhd0NvbGxlY3Rpb259IGZyb20gJy4vaW50ZXJmYWNlcy9JUmF3Q29sbGVjdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBDb21wYXRDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbiB7XG4gIHB1YmxpYyBzdGF0aWMgdHlwZXMgPSBbQ29tcGF0TW9kZWxdO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE/KSB7XG4gICAgc3VwZXIoZGF0YSk7XG5cbiAgICBkZXByZWNhdGVkKCdDb21wYXRDb2xsZWN0aW9uIGlzIGp1c3QgYSBtaWdyYXRpb24gdG9vbC4gUGxlYXNlIG1vdmUgdG8gQ29sbGVjdGlvbiBhcyBzb29uIGFzIHBvc3NpYmxlLicpO1xuXG4gICAgY29uc3QgZ2V0dGVycyA9IHt9O1xuXG4gICAgdGhpcy5zdGF0aWMudHlwZXMuZm9yRWFjaCgobW9kZWwpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBnZXRNb2RlbFR5cGUobW9kZWwpO1xuICAgICAgYXNzaWduQ29tcHV0ZWQodGhpcywgdHlwZS50b1N0cmluZygpLCAoKSA9PiB0aGlzLmZpbmRBbGwodHlwZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGF0aWMoKTogdHlwZW9mIENvbXBhdENvbGxlY3Rpb24ge1xuICAgIGRlcHJlY2F0ZWQoJ2NvbGxlY3Rpb24uc3RhdGljIGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIENvbXBhdENvbGxlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgdG9KUygpOiBJUmF3Q29sbGVjdGlvbiB7XG4gICAgZGVwcmVjYXRlZCgnY29sbGVjdGlvbi50b0pTKCkgaXMgZGVwcmVjYXRlZC4gVXNlIGNvbGxlY3Rpb24udG9KU09OKCkgaW5zdGVhZCcpO1xuICAgIHJldHVybiB0aGlzLnRvSlNPTigpO1xuICB9XG59XG4iXX0=","map":{"mappings":""},"dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx/CompatCollection.d.ts","text":"import { Collection } from './Collection';\r\nimport { CompatModel } from './CompatModel';\r\nimport { IRawCollection } from './interfaces/IRawCollection';\r\nexport declare class CompatCollection extends Collection {\r\n    static types: (typeof CompatModel)[];\r\n    constructor(data?: any);\r\n    readonly static: typeof CompatCollection;\r\n    toJS(): IRawCollection;\r\n}\r\n"}}
