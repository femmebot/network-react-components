{"code":"import { DEFAULT_TYPE } from 'datx-utils';\r\nimport { extendObservable } from 'mobx';\r\nimport { initModel } from './helpers/model/init';\r\nvar PureModel = /** @class */ (function () {\r\n    function PureModel(rawData, collection) {\r\n        if (rawData === void 0) { rawData = {}; }\r\n        extendObservable(this, {});\r\n        initModel(this, rawData, collection);\r\n    }\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    PureModel.preprocess = function (data) {\r\n        return data;\r\n    };\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    PureModel.getAutoId = function () {\r\n        return typeof this.autoIdValue === 'number' ? --this.autoIdValue : this.autoIdValue;\r\n    };\r\n    PureModel.toJSON = function () {\r\n        return this.type;\r\n    };\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    PureModel.type = DEFAULT_TYPE;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    PureModel.autoIdValue = 0;\r\n    PureModel.enableAutoId = true;\r\n    return PureModel;\r\n}());\r\nexport { PureModel };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHVyZU1vZGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3JjL1B1cmVNb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsWUFBWSxFQUF5QixNQUFNLFlBQVksQ0FBQztBQUNoRSxPQUFPLEVBQUMsZ0JBQWdCLEVBQW9CLE1BQU0sTUFBTSxDQUFDO0FBRXpELE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQztBQUsvQztJQWlERSxtQkFBWSxPQUF1QixFQUFFLFVBQTJCO1FBQXBELHdCQUFBLEVBQUEsWUFBdUI7UUFDakMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLFNBQVMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUE5QkQ7Ozs7Ozs7T0FPRztJQUNXLG9CQUFVLEdBQXhCLFVBQXlCLElBQVk7UUFDbkMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDVyxtQkFBUyxHQUF2QjtRQUNFLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxXQUFXLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDdEYsQ0FBQztJQUVhLGdCQUFNLEdBQXBCO1FBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQTdDRDs7Ozs7O09BTUc7SUFDVyxjQUFJLEdBQVUsWUFBWSxDQUFDO0lBRXpDOzs7Ozs7T0FNRztJQUNXLHFCQUFXLEdBQWdCLENBQUMsQ0FBQztJQUU3QixzQkFBWSxHQUFZLElBQUksQ0FBQztJQWlDN0MsZ0JBQUM7Q0FBQSxBQXJERCxJQXFEQztTQXJEWSxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtERUZBVUxUX1RZUEUsIElEaWN0aW9uYXJ5LCBJUmF3TW9kZWx9IGZyb20gJ2RhdHgtdXRpbHMnO1xuaW1wb3J0IHtleHRlbmRPYnNlcnZhYmxlLCBJT2JzZXJ2YWJsZU9iamVjdH0gZnJvbSAnbW9ieCc7XG5cbmltcG9ydCB7aW5pdE1vZGVsfSBmcm9tICcuL2hlbHBlcnMvbW9kZWwvaW5pdCc7XG5pbXBvcnQge0lJZGVudGlmaWVyfSBmcm9tICcuL2ludGVyZmFjZXMvSUlkZW50aWZpZXInO1xuaW1wb3J0IHtJVHlwZX0gZnJvbSAnLi9pbnRlcmZhY2VzL0lUeXBlJztcbmltcG9ydCB7UHVyZUNvbGxlY3Rpb259IGZyb20gJy4vUHVyZUNvbGxlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgUHVyZU1vZGVsIHtcblxuICAvKipcbiAgICogTW9kZWwgdHlwZSB1c2VkIGZvciBzZXJpYWxpemF0aW9uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHR5cGUge0lUeXBlfVxuICAgKiBAbWVtYmVyb2YgTW9kZWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdHlwZTogSVR5cGUgPSBERUZBVUxUX1RZUEU7XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgYXV0b2luY3JlbWVudCB2YWx1ZSB1c2VkIGZvciBhdXRvbWF0aWMgaWQgZ2VuZXJhdGlvblxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEB0eXBlIHtJSWRlbnRpZmllcn1cbiAgICogQG1lbWJlcm9mIE1vZGVsXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGF1dG9JZFZhbHVlOiBJSWRlbnRpZmllciA9IDA7XG5cbiAgcHVibGljIHN0YXRpYyBlbmFibGVBdXRvSWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIHByZXByb2Nlc3MgdGhlIG1vZGVsIGlucHV0IGRhdGEuIENhbGxlZCBkdXJpbmcgdGhlIG1vZGVsIGluaXRpYWxpemF0aW9uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgSW5wdXQgZGF0YVxuICAgKiBAcmV0dXJucyBUYXJnZXQgbW9kZWwgZGF0YVxuICAgKiBAbWVtYmVyb2YgTW9kZWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgcHJlcHJvY2VzcyhkYXRhOiBvYmplY3QpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCBmb3IgZ2VuZXJhdGluZyBvZiBhdXRvbWF0aWMgbW9kZWwgaWRzXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHJldHVybnMge0lJZGVudGlmaWVyfSBBIG5ldyBtb2RlbCBpZFxuICAgKiBAbWVtYmVyb2YgTW9kZWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0QXV0b0lkKCk6IElJZGVudGlmaWVyIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuYXV0b0lkVmFsdWUgPT09ICdudW1iZXInID8gLS10aGlzLmF1dG9JZFZhbHVlIDogdGhpcy5hdXRvSWRWYWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihyYXdEYXRhOiBJUmF3TW9kZWwgPSB7fSwgY29sbGVjdGlvbj86IFB1cmVDb2xsZWN0aW9uKSB7XG4gICAgZXh0ZW5kT2JzZXJ2YWJsZSh0aGlzLCB7fSk7XG4gICAgaW5pdE1vZGVsKHRoaXMsIHJhd0RhdGEsIGNvbGxlY3Rpb24pO1xuICB9XG59XG4iXX0=","map":{"mappings":""},"dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx/PureModel.d.ts","text":"import { IRawModel } from 'datx-utils';\r\nimport { IIdentifier } from './interfaces/IIdentifier';\r\nimport { IType } from './interfaces/IType';\r\nimport { PureCollection } from './PureCollection';\r\nexport declare class PureModel {\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    static type: IType;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    static autoIdValue: IIdentifier;\r\n    static enableAutoId: boolean;\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    static preprocess(data: object): object;\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    static getAutoId(): IIdentifier;\r\n    static toJSON(): IType;\r\n    constructor(rawData?: IRawModel, collection?: PureCollection);\r\n}\r\n"}}
