{"code":"import { DEFAULT_TYPE } from 'datx-utils';\r\nimport { extendObservable } from 'mobx';\r\nimport { initModel } from './helpers/model/init';\r\n// tslint:disable-next-line:no-unnecessary-class\r\nvar PureModel = /** @class */ (function () {\r\n    function PureModel(rawData, collection) {\r\n        if (rawData === void 0) { rawData = {}; }\r\n        extendObservable(this, {});\r\n        initModel(this, rawData, collection);\r\n    }\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @param {PureCollection} [collection] The collection the new model will belong to\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    PureModel.preprocess = function (data, _collection) {\r\n        return data;\r\n    };\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    PureModel.getAutoId = function () {\r\n        return typeof this.autoIdValue === 'number' ? --this.autoIdValue : this.autoIdValue;\r\n    };\r\n    PureModel.toJSON = function () {\r\n        return this.type;\r\n    };\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    PureModel.type = DEFAULT_TYPE;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    PureModel.autoIdValue = 0;\r\n    PureModel.enableAutoId = true;\r\n    return PureModel;\r\n}());\r\nexport { PureModel };\r\n","dts":{"name":"/Users/darko/Projects/mobx/datx/packages/datx/PureModel.d.ts","text":"import { IRawModel } from 'datx-utils';\r\nimport { IIdentifier } from './interfaces/IIdentifier';\r\nimport { IType } from './interfaces/IType';\r\nimport { PureCollection } from './PureCollection';\r\nexport declare class PureModel {\r\n    /**\r\n     * Model type used for serialization\r\n     *\r\n     * @static\r\n     * @type {IType}\r\n     * @memberof Model\r\n     */\r\n    static type: IType;\r\n    /**\r\n     * Current autoincrement value used for automatic id generation\r\n     *\r\n     * @static\r\n     * @type {IIdentifier}\r\n     * @memberof Model\r\n     */\r\n    static autoIdValue: IIdentifier;\r\n    static enableAutoId: boolean;\r\n    /**\r\n     * Function used to preprocess the model input data. Called during the model initialization\r\n     *\r\n     * @static\r\n     * @param {object} data Input data\r\n     * @param {PureCollection} [collection] The collection the new model will belong to\r\n     * @returns Target model data\r\n     * @memberof Model\r\n     */\r\n    static preprocess(data: object, _collection?: PureCollection): object;\r\n    /**\r\n     * Method used for generating of automatic model ids\r\n     *\r\n     * @static\r\n     * @returns {IIdentifier} A new model id\r\n     * @memberof Model\r\n     */\r\n    static getAutoId(): IIdentifier;\r\n    static toJSON(): IType;\r\n    constructor(rawData?: IRawModel, collection?: PureCollection);\r\n}\r\n"}}
